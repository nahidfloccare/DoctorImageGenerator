# Doctor Image Generator Configuration
# Updated to match Doctor.json workflow (December 2025)

# Model Settings
model_settings:
  flux_model: "flux1-dev.safetensors"  # From Doctor.json node 76
  flux_path: "ComfyUI/models/checkpoints"
  steps: 100  # Main generation steps
  cfg_scale: 1.0  # FLUX requires cfg=1.0
  sampler: "euler"
  scheduler: "beta"  # From Doctor.json - using beta scheduler
  denoise: 1.0

# LoRA Settings (DISABLED - removed from Doctor.json)
lora:
  enabled: false  # LoRA node removed from workflow
  name: "UltraRealistic_v2.safetensors"
  strength: 0.5

# PuLID Settings
pulid:
  model: "pulid_flux_v0.9.1.safetensors"  # From Doctor.json node 23
  weight: 0.85  # From Doctor.json node 22
  start_at: 0.0
  end_at: 1.0

# Image Generation Settings
image_settings:
  width: 1024
  height: 1024
  batch_size: 1

# Upscale Settings
upscale:
  enabled: true
  scale: 4.0  # From Doctor.json node 90 - 4x upscale
  method: "lanczos"  # Updated: best quality for photos

# REAL1SM Refinement Pass Settings
refinement:
  enabled: true
  model: "REAL1SM_V3_FP8.safetensors"  # From Doctor.json node 91
  steps: 200  # Updated from Doctor.json node 101
  cfg: 1.0
  sampler: "euler"
  scheduler: "karras"
  denoise: 0.4  # Updated from Doctor.json

# Default Prompts
default_prompts:
  positive: "Using the input doctor photo as reference, create a clean, high-resolution portrait of the same doctor in a well-fitted, professional suit (navy or charcoal with a light shirt), framed from chest up. The doctor is standing in front of a softly blurred modern clinic atrium with natural light and muted architectural tones. Keep the doctor's face, skin tone, and expression unchanged; only enhance lighting and clarity. The overall look should be professional, friendly, and trustworthy, with a subtle leadership presence."
  negative: "smooth skin, text, watermark, bokeh"

# Detail Enhancement (Fixes hands, faces)
detail_enhancement:
  enabled: true
  mode: "facedetailer"
  # Hand FaceDetailer (node 36) settings
  hand_refinement_denoise: 0.25  # From Doctor.json node 36
  hand_refinement_steps: 50
  hand_guide_size: 1024
  hand_detector: "bbox/hand_yolov9c.pt"
  # Face FaceDetailer (node 86) settings  
  face_refinement_denoise: 0.66  # From Doctor.json node 86
  face_refinement_steps: 150  # Updated from Doctor.json
  face_guide_size: 1024
  face_detector: "bbox/face_yolov8m.pt"
  face_scheduler: "beta"  # Updated from Doctor.json

# ReActor Face Swap Settings
reactor:
  enabled: true
  swap_model: "inswapper_128.onnx"
  facedetection: "retinaface_resnet50"
  face_restore_model: "codeformer-v0.1.0.pth"  # Updated to use CodeFormer
  codeformer_weight: 0.5

# Paths
paths:
  comfyui: "ComfyUI"
  inputs: "inputs"
  outputs: "outputs"
  workflows: "workflows"

# Workflow to use
workflow:
  default: "Doctor.json"  # Now in root directory (not ComfyUI/)
